\documentclass[a4paper, 12pt]{article}

%% Language and font encodings
\usepackage[english]{babel}
\usepackage[utf8x]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{tabularx}
\usepackage{amsthm}
\newtheorem{definition}{Definition}

%% Sets page size and margins
\setlength{\parindent}{0pt}


%% Useful packages
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage[colorinlistoftodos]{todonotes}
\usepackage[colorlinks=true, allcolors=blue]{hyperref}
\usepackage{multirow}

\usepackage{datetime}

\title{Fysiikan toiden selostuspohja}

\begin{document}

\begin{titlepage}
    \begin{center}
        \vspace*{1cm}
 
        \textbf{COMP.SE.200-2020-2021-1 Software Testing}
        \\
        \textbf{Test plan}
 
        \vspace{0.5cm}
       
             
        \vspace{1.5cm}

        \textbf{Jussi Kujanen 273161}
        \\
        \textbf{Veikko Hiltunen 283475}
 
        \vfill
        \vspace{0.8cm}
        Tampere University\\
        October 10th, 2020
    \end{center}
 \end{titlepage} 



% Sisollysluettelon luominen
\newpage
\thispagestyle{empty}
\tableofcontents

% Varsinainen selostus alkaa...
\newpage
\clearpage
\pagenumbering{arabic} 

\section{Introduction}

The purpose of this document is to describe testing for an application which is used to sell food products. Testing is done only for the most important 
functions of the program due to time limitations. The aim of testing is to find problems that easily break the program. In addition, the purpose of this 
document is to help the reader understand how the testing and the functions to be tested have been roughly performed. 

\section{Tools}

Below this section is a description of all the tools that will be used for this project. The tools have been chosen according to our own experience and interest. 

    \subsection{Jest}

    Jest\cite{Jest} was chosen as the testframework, since it works well with React, and we both have had some experience with Jest beforehand.
    Jest is used to run the test cases described in this document. A tutorial explaining how to use jest can be found here.\cite{JestTutorial}

    \subsection{TravisCI}
    
    TravisCI\cite{Travis} is used during integration testing, because its automatic building and code testing during changes. It is automation provides immediate feedback which 
    is very useful even in small projects like this.
    \\
     It is also useful in continuous integration, since it is better to merge small code changes frequently than a large commit at 
    the end of the development.
    \\
    \\
     Because CI detects deficiences at the early stage in development, defects are typically less complex and smaller which makes them easier to resolve.
    Documentation and tutorials for Travis CI usage can be found on this site. \cite{TravisTutorial}

    \subsection{Coveralls}

    Coveralls\cite{coveralls} is used to track test coverage. Coveralls was chosen for this task, since it is required by the course, and it is open source. 
    A tutorial on how to use Coveralls can be found here\cite{coverallsTutorial}.

\section{Test cases}
This chapter will cover unit and integration testing.

With the large amount of functions present, prioritisation is a must. The functions are rated on a scale of 1 to 5, 5 having the highest priority.
Based on the description of the use case for the library, we can focus mostly on functions that handle string manipulation and validation,
such as 'capitalize','map' and 'isEmpty'. This is because the part of the frontend to be tested  is mostly based on handling user input.
\\\\

Functions that are not essential for string manipulation have lower priority, and are not tested.
A complete list of module prioreties and reasoning can be found as an attachment to this document. \ref{priorityTable}


    \subsection{Unit testing}
    Unit tests are run using jest. For each function tested, a table is made, explaining the tests run on that function,
    their inputs, outputs and expected results. 
    \\\\
    Each test is considered 'passed' once the output matches the expected output. 
    If bugs or errors are encountered, the corresponding section has a note of it.
    \\\\
    The functions to be tested were selected according to their importance to the program. Almost all functions that were in no way related to the operation of the program have been excluded from testing. These tests and test cases may still change during the testing itself and not all test methods may be actually implemented. 
    \newpage

        \subsubsection{Test cases}
        Here can be found all the test cases in a listed form, divided into sections based on the module tested. During testing new test cases can be written even if they are not listed in these tables. 
        \\
        \\
        \textbf{Function:} add.js
	
        \begin{table}[h!]
           \begin{tabular}{|l|p{3cm}|p{2cm}|p{2cm}|p{2.5cm}|l|}
                \hline
                Num & Test case        					& Test data 					& Expected result 					& Actual result 		& Passed \\ \hline
                1   & Positive numbers 					& 0 + 5     					& 5               					& -             		& No     \\ \hline
                2   & Negative numbers 					& -5 + 6    					& 1               					& -             		& No     \\ \hline
            \end{tabular}
        \end{table}
    
        \textbf{Function:} capitalize.js
    
        \begin{table}[h!]
            \begin{tabular}{|l|p{3cm}|p{2cm}|p{2cm}|p{2.5cm}|l|}
                \hline
                Num & Test case        					& Test data 					& Expected result 					& Actual result 		& Passed \\ \hline
                1   & all characters capitalized 		& TESTRING     					& Teststring            			& -             		& No     \\ \hline
            \end{tabular}
        \end{table}
    
        \textbf{Function:} compact.js
        
        \begin{table}[h!]
           \begin{tabular}{|l|p{3cm}|p{2cm}|p{2cm}|p{2.5cm}|l|}
                \hline
                Num & Test case        					& Test data 					& Expected result 					& Actual result 		& Passed \\ \hline
                1   & large item\_id list 				& {[}0, 1, '', 5, 6{]}     		& {[}0,1,5,6{]}               		& -             		& No     \\ \hline
            \end{tabular}
        \end{table}
    
        \textbf{Function:} filter.js
        
        \begin{table}[h!]
           \begin{tabular}{|l|p{3cm}|p{2cm}|p{2cm}|p{2.5cm}|l|}
                \hline
                Num & Test case        					& Test data 					& Expected result 					& Actual result 		& Passed \\ \hline
                1   & filter products 					& {[}1,2,3,4,5,-5,-3{]}     	& {[}1,2,3,4,5{]}               	& -             		& No     \\ \hline
            \end{tabular}
        \end{table}

\newpage 
    
        \textbf{Function:} map.js
        
        \begin{table}[h!]
           \begin{tabular}{|l|p{3cm}|p{2cm}|p{2cm}|p{2.5cm}|l|}
                \hline
                Num & Test case        					& Test data 									& Expected result 					& Actual result 		& Passed \\ \hline
                1   & similar actions for array nodes 	& {[}product1, product2{]}, capitalize     		& {[}Product1, Product2{]}          & -             		& No     \\ \hline
            \end{tabular}
        \end{table}
        \textbf{Function:} slice.js
        
        \begin{table}[h!]
           \begin{tabular}{|l|p{3cm}|p{2cm}|p{2cm}|p{2.5cm}|l|}
                \hline
                Num & Test case        							& Test data 					& Expected result 					& Actual result 		& Passed \\ \hline
                1   & remove certain amount from product list 	& {[}1, 2, 3, 4{]} , 2     		& {[}3, 4{]}               			& -             		& No     \\ \hline
            \end{tabular}
        \end{table}
        
        \textbf{Function:} toNumber.js
        
        \begin{table}[h!]
           \begin{tabular}{|l|p{3cm}|p{2cm}|p{2cm}|p{2.5cm}|l|}
                \hline
                Num & Test case        					& Test data 					& Expected result 					& Actual result 		& Passed \\ \hline
                1   & modify string to number 			& '3.2'     					& 3.2               				& -             		& No     \\ \hline
            \end{tabular}
        \end{table}
    
        \textbf{Function:} toString.js
        
        \begin{table}[h!]
           \begin{tabular}{|l|p{3cm}|p{2cm}|p{2cm}|p{2.5cm}|l|}
                \hline
                Num & Test case        										& Test data 					& Expected result 					& Actual result 		& Passed \\ \hline
                1   & multiple products into a single string 				& {[}p1, p2, p3, p4{]}     		& 'p1, p2, p3, p4'                	& -             		& No     \\ \hline
            \end{tabular}
        \end{table}
    
        \textbf{Function:} endWith.js
        
        \begin{table}[h!]
           \begin{tabular}{|l|p{3cm}|p{2cm}|p{2cm}|p{2.5cm}|l|}
                \hline
                Num & Test case        					& Test data 					& Expected result 					& Actual result 		& Passed \\ \hline
                1   & Valid input 						& "abc","b"      				& False                				& -             		& No     \\ \hline
                2   & Invalid input 					& abc,b     					& ???               				& -             		& No     \\ \hline
            \end{tabular}
        \end{table}
    
\newpage
    
        \textbf{Function:} get.js
        
        \begin{table}[h!]
           \begin{tabular}{|l|p{3cm}|p{2cm}|p{2cm}|p{2.5cm}|l|}
                \hline
                Num & Test case        					& Test data 					& Expected result 					& Actual result 		& Passed \\ \hline
                1   & Non  existent field 				& \{a\},'a.b'     				& ???               				& -             		& No     \\ \hline
                2   & valid Input 						& \{a:b:1\},'a.b'     			& ???               				& -             		& No     \\ \hline
            \end{tabular}
        \end{table}

        \textbf{Function:} isEmpty.js
        
        \begin{table}[h!]
           \begin{tabular}{|l|p{3cm}|p{2cm}|p{2cm}|p{2.5cm}|l|}
                \hline
                Num & Test case         						& Test data 					& Expected result 					& Actual result 		& Passed \\ \hline
                1   & Null 										& null     						& True                				& -             		& No     \\ \hline
            \end{tabular}
        \end{table}
    
        \textbf{Function:} reduce.js
        
        \begin{table}[h!]
           \begin{tabular}{|l|p{3cm}|p{2cm}|p{2cm}|p{2.5cm}|l|}
                \hline
                Num & Test case        					& Test data 					& Expected result 					& Actual result 		& Passed \\ \hline
                1   & Sum of an array 					& {[}1,2,3{]},add,0     		& 6                					& -             		& No     \\ \hline
            \end{tabular}
        \end{table}
\newpage
    \subsection{Integration testing}
        Integration tests are also run using jest, but also with TravisCI, and Coveralls. In these tests, the modules tested in unit testing phase are integrated, and tested together. Each time a new commit is made to the master branch, Travis will run all tests and sends a coverage report to Coveralls. The formatting of the tables will be the same as in unit testing. 
        \subsubsection{Test cases}  
        Here can be found all the integration test cases.




 
            \begin{table}[h!]
                \begin{tabular}{|p{3cm}|p{4cm}|p{2cm}|p{2cm}|l|}
               \hline 
                Test case                  & Test data                                        & Expected result & Actual result & Passed \\ \hline
                Add strings                & add(toNumber(2), toNumber(5))                     & 7               & -             & No     \\ \hline
                Add bad array values       & reduce(compact( {[}1,2,"{]}),add,0))              & 3               & -             & No     \\ \hline
                Slice of objects as string & toString( get( slice( {[}\{a:b\},\{b:a\}{]},1)a.b)) & "b"             & -             & No     \\ \hline
                Compact falsy list         & Compact(Map( {[}1,2,3,4{]},isEmpty))              & {[}{]}          & -             & No     \\ \hline
                Filter ending with         & Filter( {[}"ab","ac","bb"{]}, endWith("b"))        & {[}"ab","bb"{]} & -             & No    \\ \hline
                \end{tabular}
                \end{table}
\newpage

% Kirjallisuusviitteet ladataan referenssit.bib tiedostosta ja lohdeluettelo luodaan.

\bibliographystyle{IEEEtran}
\bibliography{referenssit}

% Alkuperoinen mittauspoytokirja liitteeksi

\section*{Attacments}

Priority table \ref{priorityTable}

\begin{table}[h]\caption{Priority}\label{priorityTable}
    \centering
    \begin{tabular}{l|c|l}
    \textbf{ Module Name}  & \textbf{Importance Rating} & \textbf{Reason}                                \\ \hline
    add          & 4                 & Adding prices                         \\  \hline
    at           & 1                 & Not needed                            \\ \hline
    camelCase    & 1                 & Not needed                            \\ \hline
    capitalize   & 3                 & String manipulation                   \\ \hline
    castArray    & 1                 & Not needed                            \\ \hline
    ceil         & 1                 & Not needed                            \\ \hline
    chunk        & 1                 & Not needed                            \\ \hline
    clamp        & 1                 & Not needed                            \\ \hline
    compact      & 2                 & Might need to remove empty values     \\ \hline
    countBy      & 1                 & Not needed                            \\ \hline
    defaultTo    & 1                 & Not needed                            \\ \hline
    defaultToAny & 1                 & Not needed                            \\ \hline
    difference   & 1                 & Not needed                            \\ \hline
    divide       & 1                 & Not needed                            \\ \hline
    drop         & 1                 & Not needed                            \\ \hline
    endsWith     & 3                 & Searching for products                \\ \hline
    eq           & 1                 & Not needed                            \\ \hline
    every        & 1                 & Not needed                            \\ \hline
    filter       & 3                 & Searching products                    \\ \hline
    get          & 2                 & object manipulation                   \\ \hline
    isArguments  & 1                 & Not needed                            \\ \hline
    isArrayLike  & 1                 & Not needed                            \\ \hline
    isArrayLike  & 1                 & Not needed                            \\ \hline
    isBoolean    & 1                 & Not needed                            \\ \hline
    isBuffer     & 1                 & Not needed                            \\ \hline
    isDate       & 1                 & Not needed                            \\ \hline
    isEmpty      & 2                 & Empty input fields                    \\ \hline
    isLenght     & 1                 & Not needed                            \\ \hline
    isObject     & 1                 & Not needed                            \\ \hline
    isObjectLike & 1                 & Not needed                            \\ \hline
    isSymbol     & 1                 & Not needed                            \\ \hline
    isTypedArray & 1                 & Not needed                            \\ \hline
    keys         & 1                 & Not needed                            \\ \hline
    map          & 3                 & String manipulation                   \\ \hline
    memoize      & 1                 & Not needed                            \\ \hline
    reduce       & 4                 & String manipulation, adding prices    \\ \hline
    slice        & 2                 & Remove items from cart                \\ \hline
    toFinite     & 1                 & Not needed                            \\ \hline
    toInteger    & 2                 & Input validation                      \\ \hline
    toNumber     & 2                 & Input validation                      \\  \hline
    toString     & 2                 & Input validation, string manipulation \\ \hline
    upperFirst   & 1                 & Not needed                            \\ \hline
    words        & 1                 & Not needed                           
    \end{tabular}
    \end{table}








            \end{document}